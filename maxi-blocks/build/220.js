"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[220],{80220:function(e,t,l){l.r(t);var a=l(51609),o=l(27723),c=l(56427),r=l(47143),n=l(86087),s=l(68145),i=l(98279),m=l(66087),d=l(2521);t.default=e=>{const{clientId:t,blockName:l,tooltipsHide:b}=e,{moveBlocksDown:g,moveBlocksUp:u,updateBlockAttributes:k}=(0,r.useDispatch)("core/block-editor"),{getBlockAttributes:p}=(0,r.select)("core/block-editor"),{srcRootClientId:D,index:_,isDraggable:E,isTopDisabled:f,isDownDisabled:x}=(0,r.useSelect)((e=>{const{getBlockIndex:l,getBlockRootClientId:a,getTemplateLock:o,getBlockOrder:c,getSelectedBlockClientIds:r}=e("core/block-editor"),n=a(t),s=n?o(n):null,i=r(),d=(0,m.castArray)(i),b=(0,m.first)(d),g=(0,m.last)(d),u=a(b),k=c(u),p=0===l(b,u),D=l(g,u)===k.length-1;return{index:l(t,n),srcRootClientId:n,isDraggable:"all"!==s,isTopDisabled:p,isDownDisabled:D}}),[t]),v=(0,n.useRef)(!1),{startDraggingBlocks:B,stopDraggingBlocks:C}=(0,r.useDispatch)("core/block-editor");if((0,n.useEffect)((()=>()=>{if(v.current&&(C(),D)){const{blockStyle:e}=p(D);k(t,{blockStyle:e})}}),[]),"maxi-blocks/column-maxi"===l)return null;const I=`block-${t}`,N={type:"block",srcIndex:_,srcClientId:t,srcClientIds:[t],srcRootClientId:D},S=()=>(0,a.createElement)(s.default,{"aria-disabled":f,onClick:()=>{u([t],D)}},(0,a.createElement)(i.default,{className:"toolbar-item__icon",icon:d.BOY})),T=()=>(0,a.createElement)(s.default,{"aria-disabled":x,onClick:()=>g([t],D)},(0,a.createElement)(i.default,{className:"toolbar-item__icon",icon:d.oJp}));return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.Draggable,{elementId:I,transferData:N,onDragStart:()=>{B([t]),v.current=!0},onDragEnd:()=>{C(),v.current=!1},__experimentalTransferDataType:"wp-blocks"},(({onDraggableStart:e,onDraggableEnd:t},...l)=>b?(0,a.createElement)("div",{className:"toolbar-item"},(0,a.createElement)(s.default,Object.assign({className:"toolbar-item toolbar-item__move",draggable:E,onDragStart:e,onDragEnd:t},l),(0,a.createElement)(i.default,{className:"toolbar-item__icon",icon:d.Fqo}))):(0,a.createElement)(c.Tooltip,{text:(0,o.__)("Mover","maxi-blocks"),placement:"top"},(0,a.createElement)("div",{className:"toolbar-item"},(0,a.createElement)(s.default,Object.assign({className:"toolbar-item toolbar-item__move",draggable:E,onDragStart:e,onDragEnd:t},l),(0,a.createElement)(i.default,{className:"toolbar-item__icon",icon:d.Fqo})))))),(0,a.createElement)("div",{className:"toolbar-item-move__vertically"},!b&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.Tooltip,{text:(0,o.__)("Move up","maxi-blocks"),placement:"top center"},S()),(0,a.createElement)(c.Tooltip,{text:(0,o.__)("Move down","maxi-blocks"),placement:"top center"},T())),b&&(0,a.createElement)(a.Fragment,null,S()," ",T())))}}}]);