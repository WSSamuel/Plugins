"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[8612,4602],{88612:function(t,e,o){o.r(e);var n=o(51609),l=o(27723),i=o(94602),c=o(90978),a=o(27261),r=o(2521),s=o(46416),u=o(79293);e.default=t=>{const{blockName:e,onChangeInline:o,onChange:p,svgType:m,blockStyle:f}=t;return"maxi-blocks/button-maxi"!==e?null:(0,n.createElement)(i.default,{className:"toolbar-item__background",tooltip:(0,l.__)("Icon Colour","maxi-blocks"),position:"bottom center",icon:r.a45,advancedOptions:"icon"},(0,n.createElement)("div",{className:"toolbar-item__icon-color__popover"},(0,n.createElement)(a.default,{label:(0,l.__)("Inherit colour/background from button","maxi-blocks"),selected:t["icon-inherit"],onChange:t=>{p({"icon-inherit":t})}}),t["icon-inherit"]?(0,n.createElement)("p",{className:"toolbar-item__icon-color__popover__warning"},(0,l.__)("Icon colour is inheriting from button.","maxi-button")):(0,n.createElement)(n.Fragment,null,"Shape"!==m&&(0,n.createElement)(c.default,{label:(0,l.__)("Icon stroke","maxi-blocks"),color:t["icon-stroke-color"],prefix:"icon-stroke-",paletteColor:t["icon-stroke-palette-color"],paletteStatus:t["icon-stroke-palette-status"],paletteSCStatus:t["icon-stroke-palette-sc-status"],onChangeInline:({color:t})=>o({stroke:t},"[data-stroke]"),onChange:({color:e,paletteColor:o,paletteStatus:n,paletteSCStatus:l})=>{const i=(0,s.dO)({firstVar:"icon-stroke",secondVar:`color-${o}`,opacity:t["icon-stroke-palette-opacity"],blockStyle:f});p({"icon-stroke-color":e,"icon-stroke-palette-color":o,"icon-stroke-palette-status":n,"icon-stroke-palette-sc-status":l,"icon-content":(0,u.G0)(t["icon-content"],n?i:e,"stroke")},"[data-stroke]")},disableOpacity:!0}),"Line"!==m&&(0,n.createElement)(c.default,{label:(0,l.__)("Icon fill","maxi-blocks"),color:t["icon-fill-color"],prefix:"icon-fill-",paletteColor:t["icon-fill-palette-color"],paletteStatus:t["icon-fill-palette-status"],paletteSCStatus:t["icon-fill-palette-sc-status"],onChangeInline:({color:t})=>o({fill:t},"[data-fill]"),onChange:({color:e,paletteColor:o,paletteStatus:n,paletteSCStatus:l})=>{const i=(0,s.dO)(l?{firstVar:`color-${o}`,opacity:t["icon-fill-palette-opacity"],blockStyle:f}:{firstVar:"icon-fill",secondVar:`color-${o}`,opacity:t["icon-fill-palette-opacity"],blockStyle:f});p({"icon-fill-color":e,"icon-fill-palette-color":o,"icon-fill-palette-status":n,"icon-fill-palette-sc-status":l,"icon-content":(0,u.G0)(t["icon-content"],n?i:e,"fill")},"[data-fill]")},disableOpacity:!0}))))}},94602:function(t,e,o){o.r(e);var n=o(23029),l=o(92901),i=o(56822),c=o(53954),a=o(85501),r=o(64467),s=o(51609),u=o(27723),p=o(86087),m=o(56427),f=o(47143),d=o(32485),h=o.n(d),b=o(66087),k=o(26287),_=o(20436),v=o(2521),C=o(8062);function y(t,e,o){return e=(0,c.A)(e),(0,i.A)(t,S()?Reflect.construct(e,o||[],(0,c.A)(t).constructor):e.apply(t,o))}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(S=function(){return!!t})()}const g=(0,k.Ay)((()=>Promise.resolve().then(o.bind(o,68145)))),x=(0,k.Ay)((()=>Promise.resolve().then(o.bind(o,98279)))),E=(0,k.Ay)((()=>Promise.resolve().then(o.bind(o,57076))));let A=function(t){function e(...t){var o;return(0,n.A)(this,e),o=y(this,e,[].concat(t)),(0,r.A)(o,"state",{isOpen:!1,onClose:()=>{o.setState({isOpen:!1})}}),o.ref=(0,p.createRef)(),o}return(0,a.A)(e,t),(0,l.A)(e,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(t){const e=t.path||t.composedPath&&t.composedPath();this.mounted&&(this.ref.current?.ownerDocument.querySelectorAll(".toolbar-item__popover").length>=2||e&&!e.includes(this.ref.current?.ownerDocument.querySelector(".toolbar-item__popover"))&&!e.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){const{isOpen:t}=this.state,{defaultView:e}=this.ref.current.ownerDocument;t?e.removeEventListener("click",this.onClickOutside.bind(this),!1):e.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!t})}},{key:"render",value:function(){const{text:t,className:e,tooltip:o,icon:n,children:l,advancedOptions:i=!1,tab:c=0,position:a="top center",disabled:r=!1}=this.props,{isOpen:p,onClose:d}=this.state,k=h()("toolbar-item","toolbar-item__button",e),{receiveMaxiSettings:y}=(0,f.select)("maxiBlocks"),{hide_tooltips:S}=y(),A=!(0,b.isEmpty)(S)&&S,O=()=>(0,s.createElement)(g,{className:k,onClick:()=>this.onToggle(),"aria-expanded":p,action:"popup",disabled:r},(0,s.createElement)(x,{className:"toolbar-item__icon",icon:n}),(0,u.__)(t,"maxi-blocks"));return(0,s.createElement)("div",{ref:this.ref},(0,s.createElement)(C.A.Provider,{value:this.state},!A&&(0,s.createElement)(m.Tooltip,{text:o,placement:"top"},O()),A&&O(),p&&l&&(0,s.createElement)(E,{anchor:this.ref?.current?.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:d,position:a,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!i&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,s.createElement)("div",null,l),!!i&&(0,s.createElement)(g,{className:"toolbar-item__popover__advanced-button",icon:v.P2$,onClick:()=>{(0,_.z4)(c,i)}}))))}}])}(p.Component);e.default=A},8062:function(t,e,o){const n=(0,o(86087).createContext)();e.A=n}}]);