"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[2517,4602],{62517:function(e,t,o){o.r(t),o.d(t,{default:function(){return $}});var a=o(51609),n=o(27723),i=o(47143),l=o(86087),r=o(2114),s=o(55315),c=o(33108),m=o(98279),u=o(87571),p=o(56427),d=o(68145),_=o(2521),f=e=>{const{onChangeFormat:t,getValue:o,tooltipsHide:i}=e,r=()=>o("font-weight"),[s,c]=(0,l.useState)(r()>400);(0,l.useEffect)((()=>{c(r()>400||!1)}));const u=()=>(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__bold",onClick:()=>t({"font-weight":s?400:700}),"aria-pressed":s},(0,a.createElement)(m.default,{className:"toolbar-item__icon",icon:_.f6h}));return i?u():(0,a.createElement)(p.Tooltip,{text:(0,n.__)("Bold","maxi-blocks"),placement:"top"},u())},h=o(66087),g=e=>{const{onChangeFormat:t,getValue:o,tooltipHide:i}=e,r=()=>o("text-decoration")||"",[s,c]=(0,l.useState)(r().indexOf("line-through")>=0);(0,l.useEffect)((()=>{c(r().indexOf("line-through")>=0)}));const u=()=>{const e=r();let o;o="unset"===e?"line-through":e.indexOf("line-through")>=0?e.replace("line-through",""):`${e} line-through`,o=(0,h.trim)(o),(0,h.isEmpty)(o)&&(o="unset"),t({"text-decoration":o})},f=()=>(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__strikethrough",onClick:u,"aria-pressed":s},(0,a.createElement)(m.default,{className:"toolbar-item__icon",icon:_.hhZ}));return i?f():(0,a.createElement)(p.Tooltip,{text:(0,n.__)("Strikethrough","maxi-blocks"),placement:"top"},f())},b=e=>{const{onChangeFormat:t,getValue:o,tooltipsHide:i}=e,r=()=>o("vertical-align")||"",[s,c]=(0,l.useState)("sub"===r());(0,l.useEffect)((()=>{c("sub"===r())}));const u=()=>(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__subscript",onClick:()=>t({"vertical-align":s?"unset":"sub"}),"aria-pressed":s},(0,a.createElement)(m.default,{className:"toolbar-item__icon",icon:_.pEw}));return i?u():(0,a.createElement)(p.Tooltip,{text:(0,n.__)("Subscript","maxi-blocks"),placement:"top"},u())},x=e=>{const{onChangeFormat:t,getValue:o,tooltipsHide:i}=e,r=()=>o("vertical-align")||"",[s,c]=(0,l.useState)("super"===r());(0,l.useEffect)((()=>{c("super"===r())}));const u=()=>(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__superscript",onClick:()=>t({"vertical-align":s?"unset":"super"}),"aria-pressed":s},(0,a.createElement)(m.default,{className:"toolbar-item__icon",icon:_.Siu}));return i?u():(0,a.createElement)(p.Tooltip,{text:(0,n.__)("Superscript","maxi-blocks"),placement:"top"},u())},E=e=>{const{onChangeFormat:t,getValue:o,tooltipsHide:i}=e,r=()=>o("text-decoration")||"",[s,c]=(0,l.useState)(r().indexOf("overline")>=0);(0,l.useEffect)((()=>{c(r().indexOf("underline")>=0)}));const u=()=>{const e=r();let o;o="unset"===e?"underline":e.indexOf("underline")>=0?e.replace("underline",""):`${e} underline`,o=(0,h.trim)(o),(0,h.isEmpty)(o)&&(o="unset"),t({"text-decoration":o})},f=()=>(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__underline",onClick:u,"aria-pressed":s},(0,a.createElement)(m.default,{className:"toolbar-item__icon",icon:_.O2u}));return i?f():(0,a.createElement)(p.Tooltip,{text:(0,n.__)("Underline","maxi-blocks"),placement:"top"},f())},v=e=>{const{onChangeFormat:t,getValue:o,tooltipsHide:i}=e,r=()=>o("font-style"),[s,c]=(0,l.useState)(r()>400);(0,l.useEffect)((()=>{c("italic"===r())}));const u=()=>(0,a.createElement)(d.default,{className:"toolbar-item toolbar-item__italic",onClick:()=>t({"font-style":s?"normal":"italic"}),"aria-pressed":s},(0,a.createElement)(m.default,{className:"toolbar-item__icon toolbar-item__italic",icon:_._Uv}));return i?u():(0,a.createElement)(p.Tooltip,{text:(0,n.__)("Italic","maxi-blocks"),placement:"top"},u())},y=o(94602),k=o(86329),C=o(46416),N=o(96721);const S=["maxi-blocks/text-maxi","maxi-blocks/list-item-maxi"],V=e=>{const{getValue:t,getDefault:o,onChangeFormat:n,prefix:i,minMaxSettings:l,minMaxSettingsLetterSpacing:s,breakpoint:c,avoidXXL:u}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(m.default,{className:"toolbar-item__text-size-icon",icon:_.OpQ}),(0,a.createElement)(r.default,{className:"maxi-typography-control__size",value:t(`${i}font-size`,c,u),defaultValue:o(`${i}font-size`,c),onChangeValue:e=>{n({[`${i}font-size`]:e})},onReset:()=>n({[`${i}font-size`]:o(`${i}font-size`)},!0),min:l[t(`${i}font-size-unit`)].min,max:l[t(`${i}font-size-unit`)].max}),(0,a.createElement)(m.default,{className:"toolbar-item__text-size-icon",icon:_.aLX}),(0,a.createElement)(r.default,{className:"maxi-typography-control__line-height",value:t(`${i}line-height`,c,u),defaultValue:o(`${i}line-height`,c),onChangeValue:e=>{n({[`${i}line-height`]:e})},onReset:()=>n({[`${i}line-height`]:o(`${i}line-height`)},!0),min:l[t(`${i}line-height-unit`)].min,max:l[t(`${i}line-height-unit`)].max}),(0,a.createElement)(m.default,{className:"toolbar-item__text-size-icon",icon:_.Gi7}),(0,a.createElement)(r.default,{className:"maxi-typography-control__letter-spacing",value:t(`${i}letter-spacing`,c,u),defaultValue:o(`${i}letter-spacing`,c),onChangeValue:e=>{n({[`${i}letter-spacing`]:e})},onReset:()=>n({[`${i}letter-spacing`]:""},!0),min:s[t(`${i}letter-spacing-unit`)].min,max:s[t(`${i}letter-spacing-unit`)].max,step:.1}))};var $=e=>{const{textLevel:t="p",blockName:o,onChange:r,breakpoint:m,blockStyle:p,isList:d,clientId:_,prefix:$="",styleCards:O=!1,styleCardPrefix:A,isCaptionToolbar:F=!1}=e;if(!S.includes(o)&&!F)return null;const{formatValue:w,onChangeTextFormat:H}=(0,l.useContext)(k.hE),L=(0,l.useContext)(k.EF),T=(0,C.XW)(e,"typography"),z=L?(0,N.nO)(L,T):Object.assign({},T),{styleCard:P,tooltipsHide:M}=(0,i.useSelect)((e=>{const{receiveMaxiSelectedStyleCard:t}=e("maxiBlocks/style-cards"),{receiveMaxiSettings:o}=e("maxiBlocks"),a=o(),n=!(0,h.isEmpty)(a.hide_tooltips)&&a.hide_tooltips;return{styleCard:t()?.value||{},tooltipsHide:n}})),R=e=>(0,k.Xy)({prop:e,breakpoint:m,typography:z,formatValue:w,textLevel:t,blockStyle:p,styleCard:P,styleCardPrefix:A}),X=(e,o=!1)=>{const a=(0,k.ML)({formatValue:w,isList:d,typography:z,value:e,breakpoint:m,textLevel:t,returnFormatValue:!0}),n=Object.assign({},a.formatValue);delete a.formatValue,H(n),r(o?Object.assign({},a,{isReset:!0}):a)};return(0,a.createElement)("div",{className:"toolbar-item toolbar-item__typography-control"},(0,a.createElement)(y.default,{tooltip:(0,n.__)("Edit text","maxi-blocks"),text:(0,n.__)("Edit","maxi-blocks"),advancedOptions:F?"caption":"typography"},(0,a.createElement)("div",{className:"toolbar-item__popover__font-options"},(0,a.createElement)(u.default,{className:"toolbar-item__typography-control__typography-tabs",breakpoint:m},(0,a.createElement)("div",null,(0,a.createElement)("div",{className:"toolbar-item__popover__font-options__wrap toolbar-item__popover__font-options__wrap_family"},(0,a.createElement)("div",{className:"toolbar-item__popover__font-options__font"},(0,a.createElement)(c.default,{className:"toolbar-item__popover__font-options__font__selector",defaultValue:(0,C.Ar)(`font-family-${m}`),font:R("font-family"),onChange:e=>{X({"font-family":e.value})},theme:"dark",breakpoint:m})),(0,a.createElement)("div",{className:"toolbar-item__typography-control__extra-text-options"},(0,a.createElement)(s.default,Object.assign({},(0,C.XW)(e,"textAlignment"),{onChange:r,breakpoint:m,type:"text",isToolbar:!0,disableRTC:!0})),(0,a.createElement)(f,{onChangeFormat:X,getValue:R,tooltipsHide:M}),(0,a.createElement)(v,{onChangeFormat:X,getValue:R,tooltipsHide:M}),(0,a.createElement)(E,{onChangeFormat:X,getValue:R,tooltipsHide:M}),(0,a.createElement)(g,{onChangeFormat:X,getValue:R,tooltipsHide:M}),(0,a.createElement)(b,{onChangeFormat:X,getValue:R,tooltipsHide:M}),(0,a.createElement)(x,{onChangeFormat:X,getValue:R,tooltipsHide:M}))),(0,a.createElement)("div",{className:"toolbar-item__popover__font-options__wrap toolbar-item__popover__font-options__wrap_inputs"},(0,a.createElement)(V,{getValue:R,getDefault:(e,t)=>{const o=t||m;return(0,C.Ar)(`${e}-${o}`,_)},onChangeFormat:X,prefix:$,minMaxSettings:{px:{min:0,max:999},em:{min:0,max:100},vw:{min:0,max:100},"%":{min:0,max:100},"-":{min:0,max:16}},minMaxSettingsLetterSpacing:{px:{min:-3,max:30},em:{min:-1,max:10},vw:{min:-1,max:10}},avoidXXL:!O,tooltipsHide:M})))))))}},94602:function(e,t,o){o.r(t);var a=o(23029),n=o(92901),i=o(56822),l=o(53954),r=o(85501),s=o(64467),c=o(51609),m=o(27723),u=o(86087),p=o(56427),d=o(47143),_=o(32485),f=o.n(_),h=o(66087),g=o(26287),b=o(20436),x=o(2521),E=o(8062);function v(e,t,o){return t=(0,l.A)(t),(0,i.A)(e,y()?Reflect.construct(t,o||[],(0,l.A)(e).constructor):t.apply(e,o))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}const k=(0,g.Ay)((()=>Promise.resolve().then(o.bind(o,68145)))),C=(0,g.Ay)((()=>Promise.resolve().then(o.bind(o,98279)))),N=(0,g.Ay)((()=>Promise.resolve().then(o.bind(o,57076))));let S=function(e){function t(...e){var o;return(0,a.A)(this,t),o=v(this,t,[].concat(e)),(0,s.A)(o,"state",{isOpen:!1,onClose:()=>{o.setState({isOpen:!1})}}),o.ref=(0,u.createRef)(),o}return(0,r.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(e){const t=e.path||e.composedPath&&e.composedPath();this.mounted&&(this.ref.current?.ownerDocument.querySelectorAll(".toolbar-item__popover").length>=2||t&&!t.includes(this.ref.current?.ownerDocument.querySelector(".toolbar-item__popover"))&&!t.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){const{isOpen:e}=this.state,{defaultView:t}=this.ref.current.ownerDocument;e?t.removeEventListener("click",this.onClickOutside.bind(this),!1):t.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!e})}},{key:"render",value:function(){const{text:e,className:t,tooltip:o,icon:a,children:n,advancedOptions:i=!1,tab:l=0,position:r="top center",disabled:s=!1}=this.props,{isOpen:u,onClose:_}=this.state,g=f()("toolbar-item","toolbar-item__button",t),{receiveMaxiSettings:v}=(0,d.select)("maxiBlocks"),{hide_tooltips:y}=v(),S=!(0,h.isEmpty)(y)&&y,V=()=>(0,c.createElement)(k,{className:g,onClick:()=>this.onToggle(),"aria-expanded":u,action:"popup",disabled:s},(0,c.createElement)(C,{className:"toolbar-item__icon",icon:a}),(0,m.__)(e,"maxi-blocks"));return(0,c.createElement)("div",{ref:this.ref},(0,c.createElement)(E.A.Provider,{value:this.state},!S&&(0,c.createElement)(p.Tooltip,{text:o,placement:"top"},V()),S&&V(),u&&n&&(0,c.createElement)(N,{anchor:this.ref?.current?.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:_,position:r,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!i&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,c.createElement)("div",null,n),!!i&&(0,c.createElement)(k,{className:"toolbar-item__popover__advanced-button",icon:x.P2$,onClick:()=>{(0,b.z4)(l,i)}}))))}}])}(u.Component);t.default=S},8062:function(e,t,o){const a=(0,o(86087).createContext)();t.A=a}}]);