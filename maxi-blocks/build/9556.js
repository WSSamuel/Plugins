"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[9556],{59556:function(e,t,o){o.r(t);var l=o(51609),a=o(27723),n=o(86087),c=o(66087),s=o(32485),r=o.n(s),i=o(26287),m=o(35113),_=o(2521);const d=(0,i.Ay)((()=>Promise.resolve().then(o.bind(o,68145)))),u=(0,i.Ay)((()=>Promise.resolve().then(o.bind(o,71882)))),p=(0,i.Ay)((()=>o.e(8588).then(o.bind(o,48588)))),b=(0,i.Ay)((()=>Promise.resolve().then(o.bind(o,98279))));t.default=({result:e,isSelected:t,isSelectedText:o,modifyOption:s,customValue:i,AISettingsLanguage:f,isRefExist:x,isModifyTab:E=!1,disableScrollIntoView:k=!1,setModifyOption:h,setCustomValue:$,onModifyContent:N,onInsert:g,onSelect:y,onUseSettings:v,onModify:C,onDelete:w})=>{const S="maxi-prompt-control-results-card",T=r()(S,t&&`${S}--selected`,e.error&&`${S}--error`),I=(0,n.useRef)(),M=(0,n.useRef)(),[V,A]=(0,n.useState)(e.content.length>m.kc);(0,n.useEffect)((()=>{e.loading&&A(!1)}),[e.loading]),(0,n.useEffect)((()=>{e.loading&&M.current.scrollIntoView({behavior:"instant",block:"end"})}),[e.content,e.loading]);const O=()=>{k||I.current.scrollIntoView({behavior:"smooth",block:"start"})};return(0,n.useEffect)((()=>{t&&O()}),[t]),(0,l.createElement)("div",{className:T,onClick:t?null:()=>y()},(0,l.createElement)("div",{className:`${S}__scroll-to`},(0,l.createElement)("div",{ref:I,className:r()(`${S}__scroll-to__inner`)})),(0,l.createElement)("p",{className:`${S}__content`},e.error&&(0,l.createElement)("span",{className:`${S}__content__error`},(0,a.__)("Error: ","maxi-blocks")),""===e.content?"Â ":V?((e,t=m.kc)=>{if(e.length<=t)return e;const o=e.lastIndexOf(" ",t);return`${e.slice(0,o)}...`})(e.content):e.content),(0,l.createElement)("div",{className:`${S}__end-of-content`},(0,l.createElement)("div",{ref:M,className:`${S}__end-of-content__inner`})),e.content.length>m.kc&&!e.loading&&(0,l.createElement)(d,{className:`${S}__show-more`,onClick:()=>{A(!V),O()}},(0,a.__)("Show "+(V?"more":"less"),"maxi-blocks")),(0,l.createElement)("div",{className:`${S}__top-bar`},(0,l.createElement)("div",{className:`${S}__top-bar__select-row`},(0,l.createElement)("div",null,!e.isSelectedText&&(0,l.createElement)("span",{className:`${S}__top-bar__select-row__id ${S}__top-bar__select-row__id_${t?"output":"select"}`},"#",e.id)," ",(0,l.createElement)("span",{className:`${S}__top-bar__select-row__select-text ${S}__top-bar__select-row__select-text_${t?"output":"select"}`},(0,a.__)(e.isSelectedText?(t?"Text":"Select text")+" selection":(t?"Output":"Select")+" result","maxi-blocks"))),(0,l.createElement)("div",{className:`${S}__content-length`},e.content.length," ",(0,a.__)("characters","maxi-blocks"))),!E&&e.modificationType&&(0,l.createElement)("div",{className:`${S}__modificator`,onClick:()=>y(e.refId)},(0,a.__)(`${(0,c.capitalize)(m.wm[e.modificationType])} from`,"maxi-blocks")," ",e.refId&&x&&(0,l.createElement)("label",{className:r()(t&&`${S}__modificator__id`)},"#",e.refId),e.refId&&!x&&(0,l.createElement)("span",{className:`${S}__modificator__deleted`},(0,a.__)("deleted","maxi-blocks")),e.refFromSelectedText&&(0,l.createElement)("span",{className:`${S}__modificator__from-selected-text`},(0,a.__)("selected text","maxi-blocks")))),!E&&!e.isSelectedText&&(0,l.createElement)("div",{className:`${S}__options`},(0,l.createElement)(d,{className:"maxi-prompt-control__button has-tooltip",onClick:async()=>{try{await navigator.clipboard.writeText(e.content)}catch(e){console.error("MaxiBlocks. Failed to copy text: ",e)}}},(0,l.createElement)("span",{className:"tooltip"},(0,a.__)("Copy","maxi-blocks")),(0,l.createElement)(b,{icon:_.yTU})),(0,l.createElement)(d,{className:"maxi-prompt-control__button",onClick:g},(0,a.__)(o?"Replace selection":"Insert","maxi-blocks")),!e.refFromSelectedText&&(0,l.createElement)(d,{className:"maxi-prompt-control__button",onClick:v},(0,a.__)("Regenerate","maxi-blocks")),(0,l.createElement)(d,{className:"maxi-prompt-control__button",onClick:C},(0,a.__)("Modify","maxi-blocks")),(0,l.createElement)(u,{message:(0,a.__)("Are you sure you want to delete the result?","maxi-blocks"),cancelLabel:(0,a.__)("Cancel","maxi-blocks"),confirmLabel:(0,a.__)("Delete","maxi-blocks"),onConfirm:w,buttonClassName:`${S}__clean-history-button maxi-prompt-control__button has-tooltip`,buttonChildren:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"tooltip"},(0,a.__)("Delete","maxi-blocks")),(0,l.createElement)(b,{icon:_.Uxs}))})),t&&E&&(0,l.createElement)(p,{modifyOption:s,onModifyContent:N,customValue:i,defaultLanguage:"Language of the prompt"!==f?f:"English (United Kingdom)",setModifyOption:h,setCustomValue:$}),E&&!e.isSelectedText&&w&&(0,l.createElement)(d,{className:`${S}__clean-history-button`,onClick:w},"Remove"))}}}]);