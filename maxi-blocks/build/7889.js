"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[7889,4602],{57889:function(t,e,o){o.r(e);var n=o(51609),i=o(27723),a=o(94602),r=o(90978),c=o(27261),l=o(46416),s=o(2521);e.default=t=>{const{blockName:e,onChangeInline:o,onChange:u,breakpoint:p,isHover:b=!1}=t;return"maxi-blocks/button-maxi"!==e?null:(0,n.createElement)(a.default,{className:"toolbar-item__background",tooltip:(0,i.__)("Icon Background","maxi-blocks"),position:"bottom center",icon:s.oRP,advancedOptions:"icon"},(0,n.createElement)("div",{className:"toolbar-item__icon-background__popover"},(0,n.createElement)(c.default,{label:(0,i.__)("Inherit colour/background from button","maxi-blocks"),selected:t["icon-inherit"],onChange:t=>{u({"icon-inherit":t})}}),t["icon-inherit"]?(0,n.createElement)("p",{className:"toolbar-item__icon-background__popover__warning"},(0,i.__)("Icon background is inheriting from button.","maxi-button")):(0,n.createElement)(r.default,{label:(0,i.__)("Icon background","maxi-blocks"),paletteStatus:(0,l.qw)({target:"icon-background-palette-status",breakpoint:p,attributes:t,isHover:b}),paletteSCStatus:(0,l.qw)({target:"icon-background-palette-sc-status",breakpoint:p,attributes:t,isHover:b}),paletteColor:(0,l.qw)({target:"icon-background-palette-color",breakpoint:p,attributes:t,isHover:b}),paletteOpacity:(0,l.qw)({target:"icon-background-palette-opacity",breakpoint:p,attributes:t,isHover:b}),color:(0,l.qw)({target:"icon-background-color",breakpoint:p,attributes:t,isHover:b}),prefix:"icon-background-",deviceType:p,onChangeInline:({color:t})=>o&&o({background:t},".maxi-button-block__icon"),onChange:({paletteStatus:t,paletteSCStatus:e,paletteColor:o,paletteOpacity:n,color:i})=>{u({[(0,l.Ku)("background-palette-status",b,"icon-",p)]:t,[(0,l.Ku)("background-palette-sc-status",b,"icon-",p)]:e,[(0,l.Ku)("background-palette-color",b,"icon-",p)]:o,[(0,l.Ku)("background-palette-opacity",b,"icon-",p)]:n,[(0,l.Ku)("background-color",b,"icon-",p)]:i},".maxi-button-block__icon")},isHover:b})))}},94602:function(t,e,o){o.r(e);var n=o(23029),i=o(92901),a=o(56822),r=o(53954),c=o(85501),l=o(64467),s=o(51609),u=o(27723),p=o(86087),b=o(56427),m=o(47143),d=o(32485),k=o.n(d),h=o(66087),_=o(26287),f=o(20436),g=o(2521),v=o(8062);function C(t,e,o){return e=(0,r.A)(e),(0,a.A)(t,x()?Reflect.construct(e,o||[],(0,r.A)(t).constructor):e.apply(t,o))}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}const y=(0,_.Ay)((()=>Promise.resolve().then(o.bind(o,68145)))),A=(0,_.Ay)((()=>Promise.resolve().then(o.bind(o,98279)))),E=(0,_.Ay)((()=>Promise.resolve().then(o.bind(o,57076))));let w=function(t){function e(...t){var o;return(0,n.A)(this,e),o=C(this,e,[].concat(t)),(0,l.A)(o,"state",{isOpen:!1,onClose:()=>{o.setState({isOpen:!1})}}),o.ref=(0,p.createRef)(),o}return(0,c.A)(e,t),(0,i.A)(e,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(t){const e=t.path||t.composedPath&&t.composedPath();this.mounted&&(this.ref.current?.ownerDocument.querySelectorAll(".toolbar-item__popover").length>=2||e&&!e.includes(this.ref.current?.ownerDocument.querySelector(".toolbar-item__popover"))&&!e.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){const{isOpen:t}=this.state,{defaultView:e}=this.ref.current.ownerDocument;t?e.removeEventListener("click",this.onClickOutside.bind(this),!1):e.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!t})}},{key:"render",value:function(){const{text:t,className:e,tooltip:o,icon:n,children:i,advancedOptions:a=!1,tab:r=0,position:c="top center",disabled:l=!1}=this.props,{isOpen:p,onClose:d}=this.state,_=k()("toolbar-item","toolbar-item__button",e),{receiveMaxiSettings:C}=(0,m.select)("maxiBlocks"),{hide_tooltips:x}=C(),w=!(0,h.isEmpty)(x)&&x,O=()=>(0,s.createElement)(y,{className:_,onClick:()=>this.onToggle(),"aria-expanded":p,action:"popup",disabled:l},(0,s.createElement)(A,{className:"toolbar-item__icon",icon:n}),(0,u.__)(t,"maxi-blocks"));return(0,s.createElement)("div",{ref:this.ref},(0,s.createElement)(v.A.Provider,{value:this.state},!w&&(0,s.createElement)(b.Tooltip,{text:o,placement:"top"},O()),w&&O(),p&&i&&(0,s.createElement)(E,{anchor:this.ref?.current?.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:d,position:c,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!a&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,s.createElement)("div",null,i),!!a&&(0,s.createElement)(y,{className:"toolbar-item__popover__advanced-button",icon:g.P2$,onClick:()=>{(0,f.z4)(r,a)}}))))}}])}(p.Component);e.default=w},8062:function(t,e,o){const n=(0,o(86087).createContext)();e.A=n}}]);