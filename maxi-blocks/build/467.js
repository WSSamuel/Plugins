"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[467,4602],{70467:function(e,t,o){o.r(t);var n=o(51609),i=o(27723),l=o(47143),s=o(32485),r=o.n(s),a=o(94602),c=o(68145),u=o(2521);t.default=()=>{const{removeBlock:e,duplicateBlocks:t}=(0,l.useDispatch)("core/block-editor"),{innerBlocks:o,innerBlockCount:s}=(0,l.useSelect)((e=>{const t=wp.data.select("core/block-editor").getSelectedBlockClientId(),o=e("core/block-editor").getBlocks(t);return{innerBlocks:o,innerBlockCount:o?.length||0}})),d=(()=>{const e=Object.values(o);return e.forEach(((t,o)=>{e[o]=t?.clientId})),e})();return(0,n.createElement)(a.default,{className:"toolbar-item__slide",tooltip:(0,i.__)("Add/Remove slides","maxi-blocks"),icon:u.QPR},(0,n.createElement)("div",{className:"toolbar-item__slide__popover"},Array.from(Array(s).keys()).map((t=>(0,n.createElement)("div",{className:r()("maxi-slider-toolbar__slide",`maxi-slider-toolbar__slide--${t}`,0===t&&" maxi-slider-toolbar__slide--active"),key:`maxi-slider-toolbar__slide--${t}`},(0,n.createElement)("span",null,t+1),(0,n.createElement)(c.default,{className:r()(`maxi-slider-toolbar__slide--${t}`,"maxi-slider-toolbar__slide-remove"),showTooltip:"false",onClick:()=>{const o=d[t];e(o)},icon:u.sDe})))),(0,n.createElement)(c.default,{className:r()("maxi-slider-toolbar__slide","maxi-slider-toolbar__slide--add"),showTooltip:"false",onClick:()=>{const e=d[d.length-1];t([e],!1)}},(0,n.createElement)("span",null,"+"))))}},94602:function(e,t,o){o.r(t);var n=o(23029),i=o(92901),l=o(56822),s=o(53954),r=o(85501),a=o(64467),c=o(51609),u=o(27723),d=o(86087),m=o(56427),p=o(47143),h=o(32485),_=o.n(h),f=o(66087),b=o(26287),k=o(20436),v=o(2521),A=o(8062);function x(e,t,o){return t=(0,s.A)(t),(0,l.A)(e,E()?Reflect.construct(t,o||[],(0,s.A)(e).constructor):t.apply(e,o))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}const y=(0,b.Ay)((()=>Promise.resolve().then(o.bind(o,68145)))),C=(0,b.Ay)((()=>Promise.resolve().then(o.bind(o,98279)))),g=(0,b.Ay)((()=>Promise.resolve().then(o.bind(o,57076))));let w=function(e){function t(...e){var o;return(0,n.A)(this,t),o=x(this,t,[].concat(e)),(0,a.A)(o,"state",{isOpen:!1,onClose:()=>{o.setState({isOpen:!1})}}),o.ref=(0,d.createRef)(),o}return(0,r.A)(t,e),(0,i.A)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(e){const t=e.path||e.composedPath&&e.composedPath();this.mounted&&(this.ref.current?.ownerDocument.querySelectorAll(".toolbar-item__popover").length>=2||t&&!t.includes(this.ref.current?.ownerDocument.querySelector(".toolbar-item__popover"))&&!t.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){const{isOpen:e}=this.state,{defaultView:t}=this.ref.current.ownerDocument;e?t.removeEventListener("click",this.onClickOutside.bind(this),!1):t.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!e})}},{key:"render",value:function(){const{text:e,className:t,tooltip:o,icon:n,children:i,advancedOptions:l=!1,tab:s=0,position:r="top center",disabled:a=!1}=this.props,{isOpen:d,onClose:h}=this.state,b=_()("toolbar-item","toolbar-item__button",t),{receiveMaxiSettings:x}=(0,p.select)("maxiBlocks"),{hide_tooltips:E}=x(),w=!(0,f.isEmpty)(E)&&E,B=()=>(0,c.createElement)(y,{className:b,onClick:()=>this.onToggle(),"aria-expanded":d,action:"popup",disabled:a},(0,c.createElement)(C,{className:"toolbar-item__icon",icon:n}),(0,u.__)(e,"maxi-blocks"));return(0,c.createElement)("div",{ref:this.ref},(0,c.createElement)(A.A.Provider,{value:this.state},!w&&(0,c.createElement)(m.Tooltip,{text:o,placement:"top"},B()),w&&B(),d&&i&&(0,c.createElement)(g,{anchor:this.ref?.current?.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:h,position:r,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!l&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,c.createElement)("div",null,i),!!l&&(0,c.createElement)(y,{className:"toolbar-item__popover__advanced-button",icon:v.P2$,onClick:()=>{(0,k.z4)(s,l)}}))))}}])}(d.Component);t.default=w},8062:function(e,t,o){const n=(0,o(86087).createContext)();t.A=n}}]);