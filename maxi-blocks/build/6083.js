"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[6083,4602],{76083:function(e,t,o){o.r(t);var i=o(98587),n=o(51609),a=o(27723),c=o(94602),s=o(55590),l=o(2521);const r=["blockName"],m=["maxi-blocks/container-maxi","maxi-blocks/row-maxi","maxi-blocks/column-maxi","maxi-blocks/group-maxi","maxi-blocks/pane-maxi","maxi-blocks/slide-maxi","maxi-blocks/accordion-maxi","maxi-blocks/slider-maxi"];t.default=e=>{const{blockName:t}=e,o=(0,i.A)(e,r);return m.includes(t)?(0,n.createElement)(c.default,{className:"toolbar-item__context-loop",tooltip:(0,a.__)("Context loop","maxi-blocks"),icon:l.frO,advancedOptions:"context loop"},(0,n.createElement)(s.uJ,Object.assign({className:"toolbar-item__context-loop__popover",contentType:{"maxi-blocks/container-maxi":"container","maxi-blocks/row-maxi":"row","maxi-blocks/column-maxi":"column","maxi-blocks/group-maxi":"group","maxi-blocks/pane-maxi":"pane","maxi-blocks/slide-maxi":"slide","maxi-blocks/accordion-maxi":"accordion","maxi-blocks/slider-maxi":"slider"}[t],isToolbar:!0},o))):null}},94602:function(e,t,o){o.r(t);var i=o(23029),n=o(92901),a=o(56822),c=o(53954),s=o(85501),l=o(64467),r=o(51609),m=o(27723),u=o(86087),p=o(56427),d=o(47143),x=o(32485),b=o.n(x),h=o(66087),k=o(26287),f=o(20436),v=o(2521),_=o(8062);function A(e,t,o){return t=(0,c.A)(t),(0,a.A)(e,y()?Reflect.construct(t,o||[],(0,c.A)(e).constructor):t.apply(e,o))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}const C=(0,k.Ay)((()=>Promise.resolve().then(o.bind(o,68145)))),E=(0,k.Ay)((()=>Promise.resolve().then(o.bind(o,98279)))),O=(0,k.Ay)((()=>Promise.resolve().then(o.bind(o,57076))));let g=function(e){function t(...e){var o;return(0,i.A)(this,t),o=A(this,t,[].concat(e)),(0,l.A)(o,"state",{isOpen:!1,onClose:()=>{o.setState({isOpen:!1})}}),o.ref=(0,u.createRef)(),o}return(0,s.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(e){const t=e.path||e.composedPath&&e.composedPath();this.mounted&&(this.ref.current?.ownerDocument.querySelectorAll(".toolbar-item__popover").length>=2||t&&!t.includes(this.ref.current?.ownerDocument.querySelector(".toolbar-item__popover"))&&!t.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){const{isOpen:e}=this.state,{defaultView:t}=this.ref.current.ownerDocument;e?t.removeEventListener("click",this.onClickOutside.bind(this),!1):t.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!e})}},{key:"render",value:function(){const{text:e,className:t,tooltip:o,icon:i,children:n,advancedOptions:a=!1,tab:c=0,position:s="top center",disabled:l=!1}=this.props,{isOpen:u,onClose:x}=this.state,k=b()("toolbar-item","toolbar-item__button",t),{receiveMaxiSettings:A}=(0,d.select)("maxiBlocks"),{hide_tooltips:y}=A(),g=!(0,h.isEmpty)(y)&&y,w=()=>(0,r.createElement)(C,{className:k,onClick:()=>this.onToggle(),"aria-expanded":u,action:"popup",disabled:l},(0,r.createElement)(E,{className:"toolbar-item__icon",icon:i}),(0,m.__)(e,"maxi-blocks"));return(0,r.createElement)("div",{ref:this.ref},(0,r.createElement)(_.A.Provider,{value:this.state},!g&&(0,r.createElement)(p.Tooltip,{text:o,placement:"top"},w()),g&&w(),u&&n&&(0,r.createElement)(O,{anchor:this.ref?.current?.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:x,position:s,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!a&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,r.createElement)("div",null,n),!!a&&(0,r.createElement)(C,{className:"toolbar-item__popover__advanced-button",icon:v.P2$,onClick:()=>{(0,f.z4)(c,a)}}))))}}])}(u.Component);t.default=g},8062:function(e,t,o){const i=(0,o(86087).createContext)();t.A=i}}]);