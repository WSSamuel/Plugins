"use strict";(self.webpackChunkmaxi_blocks=self.webpackChunkmaxi_blocks||[]).push([[4138,4602],{74138:function(e,t,i){i.r(t);var n=i(51609),o=i(27723),a=i(2114),l=i(27261),s=i(94602),r=i(46416),c=i(2521);const m=["maxi-blocks/column-maxi","maxi-blocks/image-maxi","maxi-blocks/number-counter-maxi","maxi-blocks/divider-maxi","maxi-blocks/svg-icon-maxi","maxi-blocks/text-maxi","maxi-blocks/list-item-maxi","maxi-blocks/button-maxi","maxi-blocks/video-maxi"],u=["maxi-blocks/divider-maxi","maxi-blocks/group-maxi","maxi-blocks/map-maxi","maxi-blocks/slider-maxi"];t.default=e=>{const{blockName:t,breakpoint:i,isFirstOnHierarchy:d,onChange:h}=e;return m.includes(t)?null:(0,n.createElement)(s.default,{className:"toolbar-item__size",tooltip:(0,o.__)("Size","maxi-blocks"),icon:c.oi8,advancedOptions:"height width"},(0,n.createElement)("div",{className:"toolbar-item__size__popover"},(d||"maxi-blocks/row-maxi"===t)&&(0,n.createElement)("div",null,(0,n.createElement)(l.default,{label:(0,o.__)("Enable full width","maxi-blocks"),selected:e[`full-width-${i}`],onChange:e=>{h({[`full-width-${i}`]:e})}})),!e[`full-width-${i}`]&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.default,{label:(0,o.__)("Width","maxi-blocks"),enableUnit:!0,unit:(0,r.qw)({target:"width-unit",breakpoint:i,attributes:e}),onChangeUnit:e=>h({[`width-unit-${i}`]:e}),value:(0,r.qw)({target:"width",breakpoint:i,attributes:e}),allowedUnits:["px","em","vw","%"],onChangeValue:e=>h({[`width-${i}`]:e}),onReset:()=>h({[`width-${i}`]:(0,r.Ar)(`width-${i}`),[`width-unit-${i}`]:(0,r.Ar)(`width-unit-${i}`),isReset:!0})}),u.includes(t)&&e["size-advanced-options"]&&(0,n.createElement)(a.default,{label:(0,o.__)("Max width","maxi-blocks"),enableUnit:!0,unit:(0,r.qw)({target:"max-width-unit",breakpoint:i,attributes:e}),onChangeUnit:e=>h({[`max-width-unit-${i}`]:e}),onReset:()=>h({[`max-width-${i}`]:(0,r.Ar)(`max-width-${i}`),[`max-width-unit-${i}`]:(0,r.Ar)(`max-width-unit-${i}`),isReset:!0}),value:(0,r.qw)({target:"max-width",breakpoint:i,attributes:e}),onChangeValue:e=>h({[`max-width-${i}`]:e})}))))}},94602:function(e,t,i){i.r(t);var n=i(23029),o=i(92901),a=i(56822),l=i(53954),s=i(85501),r=i(64467),c=i(51609),m=i(27723),u=i(86087),d=i(56427),h=i(47143),b=i(32485),p=i.n(b),x=i(66087),k=i(26287),f=i(20436),v=i(2521),w=i(8062);function _(e,t,i){return t=(0,l.A)(t),(0,a.A)(e,g()?Reflect.construct(t,i||[],(0,l.A)(e).constructor):t.apply(e,i))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}const A=(0,k.Ay)((()=>Promise.resolve().then(i.bind(i,68145)))),C=(0,k.Ay)((()=>Promise.resolve().then(i.bind(i,98279)))),E=(0,k.Ay)((()=>Promise.resolve().then(i.bind(i,57076))));let $=function(e){function t(...e){var i;return(0,n.A)(this,t),i=_(this,t,[].concat(e)),(0,r.A)(i,"state",{isOpen:!1,onClose:()=>{i.setState({isOpen:!1})}}),i.ref=(0,u.createRef)(),i}return(0,s.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onClickOutside",value:function(e){const t=e.path||e.composedPath&&e.composedPath();this.mounted&&(this.ref.current?.ownerDocument.querySelectorAll(".toolbar-item__popover").length>=2||t&&!t.includes(this.ref.current?.ownerDocument.querySelector(".toolbar-item__popover"))&&!t.includes(this.ref.current))&&this.state.onClose()}},{key:"onToggle",value:function(){const{isOpen:e}=this.state,{defaultView:t}=this.ref.current.ownerDocument;e?t.removeEventListener("click",this.onClickOutside.bind(this),!1):t.addEventListener("click",this.onClickOutside.bind(this),!1),this.setState({isOpen:!e})}},{key:"render",value:function(){const{text:e,className:t,tooltip:i,icon:n,children:o,advancedOptions:a=!1,tab:l=0,position:s="top center",disabled:r=!1}=this.props,{isOpen:u,onClose:b}=this.state,k=p()("toolbar-item","toolbar-item__button",t),{receiveMaxiSettings:_}=(0,h.select)("maxiBlocks"),{hide_tooltips:g}=_(),$=!(0,x.isEmpty)(g)&&g,y=()=>(0,c.createElement)(A,{className:k,onClick:()=>this.onToggle(),"aria-expanded":u,action:"popup",disabled:r},(0,c.createElement)(C,{className:"toolbar-item__icon",icon:n}),(0,m.__)(e,"maxi-blocks"));return(0,c.createElement)("div",{ref:this.ref},(0,c.createElement)(w.A.Provider,{value:this.state},!$&&(0,c.createElement)(d.Tooltip,{text:i,placement:"top"},y()),$&&y(),u&&o&&(0,c.createElement)(E,{anchor:this.ref?.current?.closest(".toolbar-wrapper"),className:"toolbar-item__popover",onClose:b,position:s,useAnimationFrame:!0,useFlip:!0,useShift:!0,shiftPadding:!!a&&{right:20},shiftLimit:{mainAxis:!1},isAlternate:!0,noArrow:!0},(0,c.createElement)("div",null,o),!!a&&(0,c.createElement)(A,{className:"toolbar-item__popover__advanced-button",icon:v.P2$,onClick:()=>{(0,f.z4)(l,a)}}))))}}])}(u.Component);t.default=$},8062:function(e,t,i){const n=(0,i(86087).createContext)();t.A=n}}]);